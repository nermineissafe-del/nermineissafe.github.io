<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My unconscious~conscious Knowledge Archive</title>

<style>
/* ================== BASE ================== */
body {
  font-family: 'Courier New', monospace;
  background-color: #ffc0cb;
  color: #1a1a1a;
  margin: 0 auto;
  padding: 40px;
  max-width: 1000px;
  line-height: 1.7;
  position: relative;
  overflow-x: hidden;
  perspective: 1400px;
}

h1 {
  text-align: center;
  font-size: 3em;
  color: #660033;
  margin-bottom: 20px;
  border-bottom: 3px solid #660033;
  padding-bottom: 10px;
}

h2 {
  color: #330011;
  border-left: 6px solid #660033;
  padding-left: 15px;
  margin-top: 60px;
}

p { white-space: pre-line; }
hr { margin: 50px 0; border-top: 2px dashed #660033; }

/* ================== DECOR ================== */
.decor-cluster { display:flex; gap:10px; justify-content:center; flex-wrap:wrap }
.decor-thumb { width:120px; border-radius:6px; border:1px solid #660033; }

/* ================== BUTTON ================== */
#playMusicBtn {
  display:block; margin:30px auto; padding:15px 50px;
  font-size:1.4em; background:#000; color:#ffc0cb;
  border:3px solid #660033; border-radius:8px; cursor:pointer;
}

/* ================== FISH ================== */
.fish-container { position:fixed; inset:0; pointer-events:none; z-index:5 }
.real-fish {
  width:90px; height:36px; position:absolute; opacity:.8;
  background:#000; border-radius:50%;
  animation: swim 120s linear infinite;
}
@keyframes swim {
  from { transform:translateX(-150px) translateY(30vh); }
  to   { transform:translateX(120vw) translateY(30vh); }
}

/* ================== WRITABLE ================== */
.writable {
  background:#f5e6c8; border:2px solid #8b6f47;
  padding:25px; min-height:140px; margin-top:20px;
}
.writable:focus { outline:none; }

/* ================== WIZARD / BEAR ================== */
#wizardBox, #bearBox { margin-top:40px; padding:20px; border:2px solid #660033 }
#wizardBox { background:#111; color:#ffc0cb }
#bearBox { background:#f5e6c8 }

#bearInput { width:100%; padding:10px; margin-bottom:10px }

#feelingsTable { width:100%; border-collapse:collapse }
#feelingsTable th, td { border:1px solid #8b6f47; padding:6px }

/* ================== CHESS (SCOPED) ================== */
#chessZone {
  margin-top:80px;
  background:#0e0e11;
  color:#e6e6eb;
  padding:30px;
  border-radius:16px;
}
#chessZone .panel { display:grid; grid-template-columns:320px 1fr; gap:20px }
#chessZone .board {
  width:320px; height:320px;
  display:grid; grid-template-columns:repeat(8,1fr);
}
#chessZone .sq {
  display:flex; align-items:center; justify-content:center;
  font-size:34px; cursor:pointer;
}
#chessZone .dark { background:#3b4252 }
#chessZone .light { background:#e5e9f0 }
#chessZone .sel { outline:3px solid #88c0d0 }
#chessZone button {
  background:#2e3440; color:#e6e6eb;
  border:0; padding:8px 14px; border-radius:8px;
}
</style>
</head>

<body>

<h1>My Creepy Knowledge Archive</h1>

<p>
This is where I store what I see, feel, think, hear, smell.
</p>

<button id="playMusicBtn">click here</button>

<hr>

<h2>Diary</h2>
<div class="writable" contenteditable id="diaryBox"></div>

<h2>Love / Gentle Things</h2>
<div class="writable" contenteditable id="loveBox"></div>

<h2>Grounding Notes</h2>
<div class="writable" contenteditable id="survivalBox"></div>

<div id="wizardBox">
  <h2>The Wizard Oracle</h2>
  <button id="askBtn">ASK</button>
  <div id="oracleAnswer"></div>
</div>

<div id="bearBox">
  <h2>Bear Asks</h2>
  <input id="bearInput" placeholder="Write your feeling…">
  <table id="feelingsTable">
    <thead><tr><th>Year</th><th>Time</th><th>Feeling</th></tr></thead>
    <tbody id="feelingsBody"></tbody>
  </table>
</div>

<!-- ================== CHESS AT THE END ================== -->
<hr>

<h2>Quiet Chess — Tactical Puzzles</h2>

<div id="chessZone">
  <div class="panel">
    <div class="board" id="board"></div>
    <div>
      <button id="start">Start</button>
      <button id="hint">Hint</button>
      <button id="next">Next</button>
      <div id="msg"></div>
      <p id="desc"></p>
    </div>
  </div>
</div>

<script>
/* ================== CHESS LOGIC ================== */
const U={K:'♔',Q:'♕',R:'♖',B:'♗',N:'♘',P:'♙',k:'♚',q:'♛',r:'♜',b:'♝',n:'♞',p:'♟'};
const puzzles=[
 {name:'Knight Fork',desc:'White to move.',
  board:['r1bqkbnr','pppp1ppp','2n5','4p3','2B1P3','5N2','PPPP1PPP','RNBQK2R'],
  sol:{f:'f3',t:'e5'},hint:'Fork.'}
];
let pos=[],sel=null;
const board=document.getElementById('board');
const msg=document.getElementById('msg');
const desc=document.getElementById('desc');

function draw(){
 board.innerHTML='';
 for(let i=0;i<8;i++)for(let j=0;j<8;j++){
  const d=document.createElement('div');
  d.className='sq '+((i+j)%2?'dark':'light');
  const p=pos[i][j];
  if(p!=='.') d.textContent=U[p];
  if(sel&&sel.i===i&&sel.j===j) d.classList.add('sel');
  d.onclick=()=>click(i,j);
  board.appendChild(d);
 }
}
function click(i,j){
 if(!sel){ if(pos[i][j]===pos[i][j].toUpperCase()) sel={i,j}; draw(); return; }
 const f=String.fromCharCode(97+sel.j)+(8-sel.i);
 const t=String.fromCharCode(97+j)+(8-i);
 if(f===puzzles[0].sol.f && t===puzzles[0].sol.t){
  pos[i][j]=pos[sel.i][sel.j]; pos[sel.i][sel.j]='.';
  msg.textContent='✓ Correct';
 } else msg.textContent='Try again';
 sel=null; draw();
}
function load(){
 pos=puzzles[0].board.map(r=>r.split(''));
 desc.textContent=puzzles[0].desc;
 msg.textContent=puzzles[0].name;
 draw();
}
load();
</script>

</body>
</html>

